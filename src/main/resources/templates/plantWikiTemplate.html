<!DOCTYPE html>
<html lang="en">
<head th:insert="~{fragmentExample/fragments/bootstrap.html}">
    <meta charset="UTF-8">
    <title>Plant Wiki</title>
</head>

<body>
<div th:insert="~{fragmentExample/fragments/navbar.html}"></div>
<div class="browse-gardens-container">
    <div class="search-container d-flex justify-content-center">
        <form class="form-inline" method="post" th:action="@{/plantWiki}">
            <input aria-label="Search" class="form-control mr-2 mb-0 mt-0" placeholder="Search" th:value="${searchTerm}" th:name="searchTerm"
                   type="search">
            <button class="btn btn-outline-success mt-0" type="submit">Search</button>
        </form>
    </div>
    <div class="no-search-results-found-container">
        <span th:if="${errorMessage}" th:text="${errorMessage}"></span>
    </div>
    <div class="plant-wiki-container">
        <div class="row">
            <div th:each="plant : ${resultPlants}" class="col-md-4 col-sm-6 col-lg-3 col-xl-3 col-xxl-2 mb-4">
                <div class="card plant-wiki-card">

                    <img id="collection-card-img" class="card-img-top" th:src="${plant.imagePath  != ''} ? ${plant.imagePath} : '/images/placeholder.jpg'" alt="No Image">
                    <div class="card-collection-body">
                        <div class="card-body">
                            <h5 style="color: #fffdf6" class="card-title" th:text="${plant.name}"></h5>
                            <p style="color: #fffdf6" class="card-text"
                               th:with="concatenatedNames=${#strings.listJoin(plant.scientificName, ', ')}">
                                <strong>Scientific Names: </strong>
                                <span th:text="${concatenatedNames}"></span>
                            </p>
                            <p style="color: #fffdf6" class="card-text">
                                <strong>Cycle: </strong>
                                <span th:text="${plant.cycle}"></span>
                            </p>
                            <p style="color: #fffdf6" class="card-text">
                                <strong>Watering Frequency: </strong>
                                <span th:text="${plant.watering}"></span>
                            </p>
                            <p style="color: #fffdf6" class="card-text"
                               th:with="concatenatedSunlightNames=${#strings.listJoin(plant.sunlight,', ')}">
                                <strong>Suggested Sunlight Levels: </strong>
                                <span th:text="${concatenatedSunlightNames}"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>
</html>