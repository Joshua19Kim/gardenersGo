<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Garden Details</title>
    <link th:href="@{/css/stylesheet.css}" rel="stylesheet">
</head>
<body>

<nav th:insert="~{fragmentExample/fragments/navbar.html}"></nav>
<a th:href="@{../gardens(user=${gardener.id})}"
   th:text="'Back to ' + ${gardener.firstName} + (${gardener.lastName != null ? ' ' + gardener.lastName : ''}) + '\'s Gardens'"
   class="back-link button"></a>
<div class="container">
    <div class="garden-details">
        <p><strong>Name:</strong> <span th:text="${garden.name}"></span></p>
        <p><strong>Location:</strong> <span th:text="${garden.location}"></span></p>
        <p>
            <strong>Size:</strong> <span th:if="${garden.size != null}" th:text="${garden.size + ' m^2'}"></span>
        </p>
    </div>
    <h4>Plants:</h4>
    <div th:if="${not #lists.isEmpty(garden.plants)}" class="plant-list-container">
        <table class="plant-table">
            <thead>
            <tr>
                <th>NAME</th>
                <th>IMAGE</th>
                <th>COUNT</th>
                <th>DESCRIPTION</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="plant: ${garden.plants}">
                <td th:text="${plant.name}"></td>
                <td>
                    <div class="plant-image-container" id="image">
                        <img th:src="@{${'../images/' + plant.image}}" alt="Plant" th:id="'currentImage_' + ${plant.id}">
                    </div>
                </td>
                <td th:if="${plant.count !=0}" th:text="${plant.count}"></td>
                <td th:if="${plant.count == 0}"></td>
                <td th:text="${plant.description}"></td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
</body>
</html>